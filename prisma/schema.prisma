generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id_pk    String @id @default(uuid())
  userName String @unique
  password String

  Account Account?

  @@map("users")
}

model Account {
  id_pk   String @id @default(uuid())
  balance Int    @default(1000)

  user         User           @relation(fields: [user_fk], references: [id_pk])
  user_fk      String         @unique
  transactions Transactions[]

  @@map("accounts")
}

model Transactions {
  id_pk     String   @id @default(uuid())
  createdAt DateTime @default(now())

  debitedAccountId  String
  creditedAccountId String
  Account           Account? @relation(fields: [accountId_pk], references: [id_pk])
  accountId_pk      String?

  @@map("transactions")
}
